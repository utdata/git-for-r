---
title: "Updating files"
execute:
  echo: false
---

> üéØ Goal: By the end of this chapter, you‚Äôll know how to:
>
> -   Make a meaningful change to your project
>
> -   Stage and commit that change using Git
>
> -   Push the change to GitHub to save your work.

You‚Äôll also practice writing good commit messages and checking your work.

## The basic git workflow

Now that we have our **local** repository setup and connected to our **remote** repository on Github, let's briefly go over the basic Github workflow you will repeat over and over again as you work on your project.

![The basic workflow you'll repeat when working with Github](../images/git-workflow-example.png) 

The basic git workflow goes like this:

1. You make changes to your local repository files.

2. You take a snapshot of those changes by **committing** them on your local repo.

3. You **push** those committed changes to Github to track.

4. Before making more changes, you **pull** down the most recent changes from Github.

5. Rinse and repeat.

Some additional steps may be added if you begin using more advanced features in Git later on -- especially when working with a team -- but the basic steps outlined above will still apply even when working with more complicated workflows like feature branches and pull requests. 

We'll practice this workflow in the sections below.

## Make a Small Change

Let‚Äôs open the Quarto file you made in Chapter 1 (e.g., `01-index.qmd`) and make a couple changes.

Replace the auto-generated text and code blocks in the file with the following:

``` {.bash include="false"}
---
title: "Intro to Git"
format: html
---

# Summary

Here is a summary of the `mtcars` dataset.
```

Under the summary header and description, add a **new code block** with the following:

``` bash
summary(mtcars)
```

Then save the file.

Now check the status in your Terminal again by running:

``` bash
git status
```

The Terminal should respond with something like this:

```         
On branch main
Your branch is up to date with 'origin/main'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
        modified:   01-index.qmd
```

**Let's break this down** :

1.  The red text tells us that Git *sees* that something was modified in your `01-index.qmd`.
2.  It's under the `Changes not staged for commit:` section, which tells us that Git hasn‚Äôt *staged* it yet (so it won‚Äôt be saved in the next commit).

## Stage the Change

Now that you know Git sees the change, you need to tell Git, ‚ÄúHey, save this file in the next snapshot.‚Äù

You'll do this by adding ‚Äî or **staging** ‚Äî the modified file for your next commit.

To stage your changed file, run:

``` bash
git add 01-index.qmd
```

Now, check your Git status again.

``` bash
git status
```

You should see your 01-index.qmd file in green, along with following message:

```         
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
  modified:   01-index.qmd`
```

üéâ Great! Your changed file is now **staged** and ready to **commit**.

## Commit your change

Now, we'll save the snapshot of our updated file in Git's memory. When we do so, we'll want to include a descriptive **commit message** noting what we changed. Git commits always need a message attached to them.

**A few best practices to keep in mind with commit messages:**

1.  Use present tense: `"Add summary of..."`, not `"Added..."`
2.  Keep it short but descriptive
3.  Think: ‚ÄúWhat changed in this version?‚Äù, write that in the message.

‚úÖ Good commit messages make it easier for you and others to pick up where you left off. If something breaks during an update or if you need to go back to a prior version, commit messages will help your retrace your steps.

With those things in mind, practice writing a descriptive commit message with your change to the `01-index.qmd`.

Type something like the following and hit enter:

``` bash
git commit -m "Add summary of mtcars dataset"
```

Terminal will respond with a summary of insertions and deletions in your file.

**A quick word of caution about the `-m` flag and Vim**

Git commits **always** need a message attached to them. The `-m` flag tells the command line that we'll be writing our message *inline* with our command.

If you forget to include that message flag, the Terminal will open its default text editor called Vim. If you find yourself in this scenario and don't know how to get out, there's a section on [getting out of Vim](../terminal/04-troubleshooting.html#how-to-get-out-of-vim) in our Terminal Guide.

## Push your commit to GitHub

Now, that our changes are **staged** and **commited,** we'll send the snapshot from your computer to GitHub by **pushing** our changes.

Push your new commit by running:

``` bash
git push
```

Now go to your repository on Github ‚Äî you‚Äôll see your commit listed under the **Commits** tab and your file under the `<>Code`tab! (You may need to refresh)

::: callout-note
You may be wondering why this push command was shorter than it was last time. In your last push, you needed to connect local project (the one on your computer) to the remote repository on Github and set your main branch.

Since you already connected your Quarto project to Github and set our branch to main, you can just use the `git push` command now.
:::

## Git workflow best practices

Before we move on, here's a few key best practices to keep in mind as you're getting used to working in Git:

1.  **Commit early, commit often:** Save your work frequently in small, logical chunks. This makes changes easier to track, understand, and roll back.

2.  **Write clear commit messages:** Use concise, meaningful messages that explain why the change was made. (e.g., Fix typo in introduction, not just update)

3.  **Check status regularly**: Run `git status` often to see what‚Äôs changed and what‚Äôs staged.

4.  **Stage changes selectively:** Use `git add <filename>` (instead of `git add .`) when you want more control over what goes into each commit.


## üéØ Checkpoint

In this chapter, you learned the basic git workflow:

-   Make a change to your local project

-   Stage the changes in git (`git add ..`)

-   Take a snapshot of the changed files (`git commit -m ...`)

-   Push the changes to Github (`git push`)

-   Best practices to keep things clean and manageable

This is the cycle you will repeat over and over again as you work on coding projects using git.

--- 

**Next up:**

we‚Äôll learn how to **make changes**, **track versions**, and **collaborate** like pros.
